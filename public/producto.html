<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Producto - Sistema de Ventas</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .product-detail {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 20px;
        }
        
        .product-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .product-gallery {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .main-image {
            width: 100%;
            height: 400px;
            object-fit: contain;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 1rem;
            background: #f9f9f9;
        }
        
        .thumbnails {
            display: flex;
            gap: 1rem;
            overflow-x: auto;
            padding: 0.5rem;
        }
        
        .thumbnail {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .thumbnail.active,
        .thumbnail:hover {
            border-color: #3498db;
        }
        
        .product-info {
            padding: 1rem;
        }
        
        .product-category {
            color: #7f8c8d;
            text-transform: uppercase;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }
        
        .product-title {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 1rem;
        }
        
        .product-price {
            font-size: 2rem;
            color: #e74c3c;
            font-weight: 700;
            margin: 1.5rem 0;
        }
        
        .product-description {
            line-height: 1.8;
            color: #34495e;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        
        .product-specs {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 0.8rem 0;
            border-bottom: 1px solid #e9ecef;
        }
        
        .spec-item:last-child {
            border-bottom: none;
        }
        
        .spec-label {
            font-weight: 600;
            color: #495057;
        }
        
        .spec-value {
            color: #6c757d;
        }
        
        .product-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .btn-large {
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1.5rem 0;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 1px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .quantity-display {
            font-size: 1.5rem;
            font-weight: 600;
            min-width: 50px;
            text-align: center;
        }
        
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: #3498db;
            text-decoration: none;
            margin-bottom: 2rem;
            font-weight: 500;
        }
        
        .back-link:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .product-container {
                grid-template-columns: 1fr;
            }
            
            .product-title {
                font-size: 2rem;
            }
            
            .product-actions {
                flex-direction: column;
            }
            
            .btn-large {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-store"></i>
                <h1>TiendaOnline</h1>
            </div>
            <nav class="nav">
                <a href="/"><i class="fas fa-home"></i> Inicio</a>
                <a href="/carrito.html" class="cart-link">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </a>
                <a href="/admin.html"><i class="fas fa-cog"></i> Admin</a>
            </nav>
        </div>
    </header>

    <main class="product-detail">
        <a href="/" class="back-link">
            <i class="fas fa-arrow-left"></i> Volver al catálogo
        </a>
        
        <div class="product-container">
            <div class="product-gallery">
                <img id="mainImage" src="https://via.placeholder.com/600x400" alt="Producto" class="main-image">
                <div class="thumbnails">
                    <img src="https://via.placeholder.com/100x100" alt="Miniatura 1" class="thumbnail active" onclick="changeImage(this.src)">
                    <img src="https://via.placeholder.com/100x100/3498db/ffffff" alt="Miniatura 2" class="thumbnail" onclick="changeImage(this.src)">
                    <img src="https://via.placeholder.com/100x100/2ecc71/ffffff" alt="Miniatura 3" class="thumbnail" onclick="changeImage(this.src)">
                    <img src="https://via.placeholder.com/100x100/e74c3c/ffffff" alt="Miniatura 4" class="thumbnail" onclick="changeImage(this.src)">
                </div>
            </div>
            
            <div class="product-info">
                <div class="product-category">Electrónica</div>
                <h1 class="product-title" id="productTitle">Laptop Gaming Pro</h1>
                
                <div class="product-price" id="productPrice">1,299.99bs</div>
                
                <div class="product-description" id="productDescription">
                    Laptop de alto rendimiento diseñada para gaming y trabajo profesional. 
                    Equipada con procesador Intel Core i7 de 12ª generación, 16GB RAM DDR5, 
                    tarjeta gráfica NVIDIA RTX 4060 8GB, almacenamiento SSD NVMe de 1TB y 
                    pantalla IPS de 15.6" con 144Hz de refresco.
                </div>
                
                <div class="quantity-selector">
                    <span style="font-weight: 600;">Cantidad:</span>
                    <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
                    <span class="quantity-display" id="quantity">1</span>
                    <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
                    <span style="margin-left: 1rem; color: #27ae60;">
                        <i class="fas fa-check"></i> En stock
                    </span>
                </div>
                
                <div class="product-specs">
                    <h3 style="margin-bottom: 1rem; color: #2c3e50;">
                        <i class="fas fa-list-alt"></i> Especificaciones
                    </h3>
                    <div class="spec-item">
                        <span class="spec-label">Procesador</span>
                        <span class="spec-value">Intel Core i7-12700H</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Memoria RAM</span>
                        <span class="spec-value">16GB DDR5</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Almacenamiento</span>
                        <span class="spec-value">1TB SSD NVMe</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Tarjeta Gráfica</span>
                        <span class="spec-value">NVIDIA RTX 4060 8GB</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Pantalla</span>
                        <span class="spec-value">15.6" IPS 144Hz</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Sistema Operativo</span>
                        <span class="spec-value">Windows 11 Pro</span>
                    </div>
                </div>
                
                <div class="product-actions">
                    <button class="btn btn-large" onclick="addToCart()">
                        <i class="fas fa-cart-plus"></i> Agregar al Carrito
                    </button>
                    <button class="btn btn-large btn-outline" onclick="buyNow()">
                        <i class="fas fa-bolt"></i> Comprar Ahora
                    </button>
                </div>
                
                <div style="margin-top: 2rem; padding: 1.5rem; background: #e8f4fc; border-radius: 8px;">
                    <h4 style="color: #3498db; margin-bottom: 0.5rem;">
                        <i class="fas fa-shipping-fast"></i> Envío Gratis
                    </h4>
                    <p style="color: #2c3e50; margin: 0;">
                        Este producto califica para envío gratis en compras mayores a $50.
                        Llega en 2-3 días hábiles.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Sistema de Ventas - Laboratorio Servidor Web</p>
            <p>Implementado con Node.js, GitHub y Render</p>
        </div>
    </footer>

    <script>
        // Cargar carrito del localStorage
        let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
        
        // Actualizar contador del carrito
        function updateCartCount() {
            const totalItems = carrito.reduce((total, item) => total + (item.cantidad || 1), 0);
            const cartCounts = document.querySelectorAll('.cart-count');
            cartCounts.forEach(el => el.textContent = totalItems);
        }
        
        // Cambiar imagen principal
        function changeImage(src) {
            document.getElementById('mainImage').src = src;
            document.querySelectorAll('.thumbnail').forEach(thumb => {
                thumb.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        // Cambiar cantidad
        function changeQuantity(change) {
            const quantityElement = document.getElementById('quantity');
            let quantity = parseInt(quantityElement.textContent);
            quantity += change;
            if (quantity < 1) quantity = 1;
            if (quantity > 10) quantity = 10; // Límite de stock
            quantityElement.textContent = quantity;
        }
        
        // Agregar al carrito
        function addToCart() {
            const quantity = parseInt(document.getElementById('quantity').textContent);
            const producto = {
                id: Date.now(),
                nombre: document.getElementById('productTitle').textContent,
                precio: parseFloat(document.getElementById('productPrice').textContent.replace('$', '').replace(',', '')),
                cantidad: quantity,
                imagen: document.getElementById('mainImage').src
            };
            
            // Verificar si ya está en el carrito
            const existingIndex = carrito.findIndex(item => item.nombre === producto.nombre);
            if (existingIndex > -1) {
                carrito[existingIndex].cantidad += quantity;
            } else {
                carrito.push(producto);
            }
            
            localStorage.setItem('carrito', JSON.stringify(carrito));
            updateCartCount();
            
            // Mostrar notificación
            alert(`¡Agregado al carrito! ${quantity} x ${producto.nombre}`);
        }
        
        // Comprar ahora
        function buyNow() {
            addToCart();
            window.location.href = '/checkout.html';
        }
        
        // Cargar datos del producto desde URL (simulado)
        function loadProductData() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            
            // En un sistema real, aquí harías una petición al servidor
            // Por ahora simulamos datos
            if (productId) {
                // Podrías cargar datos diferentes según el ID
                console.log(`Cargando producto ID: ${productId}`);
            }
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            updateCartCount();
            loadProductData();
        });
    </script>
</body>
</html>